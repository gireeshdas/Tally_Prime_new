{% extends 'base.html' %}

{% block body %}

<style>

    #total_profit{
        font-weight: 800;
        letter-spacing: 2px;
    }
    #total_profit2{
        font-weight: 800;
        letter-spacing: 2px;
    }
    #loss2{
        visibility: hidden;
       
        
    }
    #loss{
        visibility: hidden;
        
    }
    .mt_gross{

        margin-top: 45px;
        
    }

    
.b1{
    height: 600px;
    
}

.head{
    /* border-bottom: 1px solid; */
    
}

.par{
    letter-spacing: 4px;
    padding: 15px;
    
}
.ul{
    margin-top: 20px;
    letter-spacing: 3px;
    font-size: medium;
}
.list2{
    margin: 10px;
    list-style-type: none;
}
.list2:hover{
    background-color: darkgoldenrod;
}

.ABC{
    
    font-size: small;
    padding-right: 25px;
    float: right;
    padding-top: 10px;
    font-weight: 500;
    

}
.total{
    padding: 10px;
}

.table_row:hover{
    background-color: darkgoldenrod;
}


    
</style>


<div class="container-fluid "  style="border: 1px solid; background-color:rgba(0,0,0,.4);">
    <div class="row">
        <div class="col-sm-6 m-0 p-0 b1 " style="border-right: 1px solid;" >
           

            <div class="row ml-0" style="border-bottom: 1px solid;">
                <div class="col-sm-6 m-0 p-0 head" ><h5 class=" par">particulars</h6></div>
                    <div class="col-sm-6 m-0 p-0 head"><p class=" ABC">ABC Limited </br>For 1-Apr-22 </p></div>
            </div>

            <ul class="ul" id="loss3" >

                <li class="list2"><a href="purchase">Purchase Account</a><i id="purch" class="float-right">{{total_purch}}</i></li>
                <li class="list2"><a href="{% url 'direct_exprenses' %}" >Direct Expenses</a><i id="expenses" class="float-right">{{total_direct_exp}}</i></li>
                <li class="list2"><a href="stock_group2" >Opening Stock</a><i id="closing" class="float-right">{{total_grp}}</i></li>
                <li class="list2 "><a  href="#" >Gross profit</a><i id="gross" class="float-right"></i></li>
                <li class="list2" style="border-top:1px solid ;"><i id="total2" class="float-right" ></i></li>
                
                <li class="list2 mt-5"><a href="{% url 'indirect_expenses' %}" >Indirect Expenses</a><i id="indirect_exp" class="float-right">{{total_indirect}}</i></li>
                <div>
                    <li class="list2">Net profit<i id="net_profit" class="float-right"></i></li>
                </div>
               

            </ul>

 <!-- gross profit loss method -->
             <ul  id="loss">

                <li class="list2"><a href="purchase">Purchase Account</a><i id="purch" class="float-right">{{total_purch}}</i></li>
                <li class="list2"><a href="{% url 'direct_exprenses' %}" >Direct Expenses</a><i id="expenses" class="float-right">{{total_direct_exp}}</i></li>
                <li class="list2"><a href="stock_group2" >Opening Stock</a><i  class="float-right">{{total_grp}}</i></li>
               
                <li class="list2 mt-5" style="border-top:1px solid ;"><i id="tot" class="float-right" ></i></li>
                
                <li class="list2 mt-5 "><a  href="#" >Gross Loss</a><i id="gross_loss2" class="float-right"></i></li>
                <li class="list2"><a href="{% url 'indirect_expenses' %}" >Indirect Expenses</a><i id="indirect_exp" class="float-right">{{total_indirect}}</i></li>
               

               


             </ul>

          
            
        </div>

        <div class="col-sm-6 m-0 p-0 b1 " >
            <div class="row m-0" style="border-bottom: 1px solid;">
                <div class="col-sm-6 m-0 p-0 head"><h5 class=" par">particulars</h6></div>
                    <div class="col-sm-6 m-0 p-0 head"><p class="ABC">ABC Limited </br>For 1-Apr-22 </p></div>
            </div>
            


                <ul class="ul" id="loss4" >
                    <li class="list2"><a href="sales">Sales Acount</a><i id="sales" class="float-right">{{total}}</i></li>
                    <li class="list2"><a href="payhead_list" >Direct Income</a><i id="direct" class="float-right">{{total_direct}}</i></li>
                    <li class="list2"><a href="stockgroup" >Closing stock</a><i id="stock" class="float-right">{{closing_value}}</i></li>
                    <li class="list2 mt-5" style="border-top:1px solid ;"><i class="float-right" id="total"></i></li>

                    <li class="list2 mt-5"><a href="#" >Gross profit</a><i class="float-right" id="gross_profit"></i></li>
                    <li class="list2"><a href="indirect" >Indirect Incomes</a><i id="indirect" class="float-right">{{total_income}}</i></li>
                   
                    
                </ul>


         
            <!-- gross profit loss method -->
               
                <ul  id="loss2">

                    <li class="list2"><a href="sales">Sales Acount</a><i id="sales" class="float-right">{{total}}</i></li>
                    <li class="list2"><a href="payhead_list" >Direct Income</a><i id="direct" class="float-right">{{total_direct}}</i></li>
                    <li class="list2"><a href="stockgroup" >Closing stock</a><i id="stock" class="float-right">{{closing_value}}</i></li>
                    <li class="list2 "><a href="#" >Gross Loss</a><i class="float-right" id="gross_loss"></i></li>
                    <li class="list2" style="border-top:1px solid ;"><i class="float-right" id="total5"></i></li>
                    
                    <li class="list2 mt-5"><a href="indirect" >Indirect Incomes</a><i id="indirect_inc" class="float-right">{{total_income}}</i></li>
                    <li class="list2"><a  href="#" >Net Loss</a><i id="net_loss2" class="float-right"></i></li>

                </ul>


               

                

        </div>

        <div class="col-sm-6 m-0 p-0  " style="border-right: 1px solid; border-top: 1px solid;" >
           

            <div class="row ml-0" >
                <div class="col-sm-11 ml-4 p-0 " ><a class="total">Total</a><i id="total_profit2" class="float-right"></i></div>
                   
            </div>

            

          
            
        </div>

        <div class="col-sm-6 m-0 p-0  " style="border-right: 1px solid; border-top: 1px solid;" >
           

            <div class="row ml-0" >
                <div class="col-sm-11 ml-4 p-0 " ><a class="total">Total</a><i id="total_profit" class="float-right"></i></div>
                   
            </div>

            

          
            
        </div>
        






        
        

    </div>
</div>

<script>
    setTimeout(function ad(){ 
        var a=document.getElementById('sales').innerHTML;
        var b=document.getElementById('direct').innerHTML;
        var c=document.getElementById('stock').innerHTML;
        var d1 = parseInt(a);
        var d2 = parseInt(b);
        var d3 = parseInt(c);
        var d=d1+d2+d3;
        console.log(d)
        
        document.getElementById("total").innerHTML = d;
       

        let i=document.getElementById('purch').innerHTML;
        let j=document.getElementById('expenses').innerHTML;
        let k=document.getElementById('closing').innerHTML

        let e1=parseInt(i);
        let e2=parseInt(j);
        let e3=parseInt(k);

        var e=e1+e2+e3;
        console.log(e)
        
       
       

        if (d>e){

            document.getElementById('loss3').style.visibility="visible";
            document.getElementById('loss4').style.visibility="visible";

            document.getElementById('loss').style.visibility="hidden";
            document.getElementById('loss2').style.visibility="hidden";


            let f=d-e;
            console.log(f)
            document.getElementById('gross').innerHTML=f;
            document.getElementById("total2").innerHTML = d;
            document.getElementById('gross_profit').innerHTML=f;
            
            // total profit

            let indirect_income=document.getElementById('indirect').innerHTML;
            let v=parseInt(indirect_income);
            let total_profit=f+v;
            document.getElementById('total_profit').innerHTML=total_profit;

             // total of net profit

            let indirect_exp=document.getElementById('indirect_exp').innerHTML;
            let g1=parseInt(indirect_exp);
    
            let net_profit=total_profit-g1;
            document.getElementById('net_profit').innerHTML=net_profit;

            //total particular exp

            var total_particular_exp=g1+net_profit;
            document.getElementById('total_profit2').innerHTML=total_particular_exp;

            




        }

        else if(d<e){

            document.getElementById('loss').style.visibility="visible";
            document.getElementById('loss2').style.visibility="visible";

            document.getElementById('loss3').style.visibility="hidden";
            document.getElementById('loss4').style.visibility="hidden";



            document.getElementById('tot').innerHTML=e;
            document.getElementById('total5').innerHTML=e;

            // indirect expense
            let indirect_exp=document.getElementById('indirect_exp').innerHTML;
            let g1=parseInt(indirect_exp);

            //indirect income 
            let indirect_income=document.getElementById('indirect').innerHTML;
            let v=parseInt(indirect_income);
           


            let p=e-d;
            console.log(p);
            document.getElementById('gross_loss').innerHTML=p;
            document.getElementById('gross_loss2').innerHTML=p;

            //indirect exp + gross profit = total_loss
           let loss2= p+g1;
           console.log(loss2)
           document.getElementById('total_profit2').innerHTML=loss2;
           document.getElementById('total_profit').innerHTML=loss2;

           //net loss
           let loss3=loss2-v
           console.log(loss3)
           document.getElementById('net_loss2').innerHTML=loss3;



            let indirect_icomes=document.getElementById('indirect_inc').innerHTML;
            let g3=parseInt(indirect_incomes);
            

            let net_loss=p-g3;
            document.getElementById('loss2').innerHTML=net_loss;
            
            


        }


  
     
     }, 100);




</script>



{% endblock %}
